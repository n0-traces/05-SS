# ğŸ‹ï¸ Memeä»£å¸å¼€å‘å®æˆ˜ç»ƒä¹ é¢˜

## ğŸ“ å¦‚ä½•ä½¿ç”¨è¿™ä»½ç»ƒä¹ é¢˜

**å­¦ä¹ æµç¨‹ï¼š**
1. å…ˆçœ‹é¢˜ç›®å’Œè¦æ±‚
2. è‡ªå·±å°è¯•å†™ä»£ç ï¼ˆå…è®¸å‚è€ƒç°æœ‰ä»£ç ï¼‰
3. å†™æµ‹è¯•éªŒè¯
4. å¯¹æ¯”å‚è€ƒç­”æ¡ˆ
5. ç†è§£å·®å¼‚

**è¯„åˆ†æ ‡å‡†ï¼š**
- â­ å…¥é—¨çº§ï¼ˆç†è§£åŸºæœ¬æ¦‚å¿µï¼‰
- â­â­ åˆçº§ï¼ˆèƒ½å‚è€ƒç€å†™ï¼‰
- â­â­â­ ä¸­çº§ï¼ˆèƒ½ç‹¬ç«‹å®Œæˆï¼‰
- â­â­â­â­ é«˜çº§ï¼ˆèƒ½ä¼˜åŒ–æ”¹è¿›ï¼‰
- â­â­â­â­â­ ä¸“å®¶çº§ï¼ˆèƒ½ä¸¾ä¸€åä¸‰ï¼‰

---

## ç¬¬1å…³ï¼šERC20åŸºç¡€ â­

### ç»ƒä¹ 1.1ï¼šåˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªä»£å¸

**ç›®æ ‡ï¼š** ç†è§£ERC20çš„åŸºæœ¬ç»“æ„

**è¦æ±‚ï¼š**
```
åˆ›å»ºä¸€ä¸ªåä¸º "MyToken" (ç¬¦å· "MTK") çš„ä»£å¸
æ€»ä¾›åº”é‡ï¼š1,000,000 ä¸ª
å…¨éƒ¨é“¸é€ ç»™éƒ¨ç½²è€…
```

**æç¤ºï¼š**
```solidity
import "@openzeppelin/contracts/token/ERC20/ERC20.sol";

contract MyToken is ERC20 {
    constructor() ERC20(/*å¡«å…¥åç§°å’Œç¬¦å·*/) {
        // é“¸é€ ä»£å¸ç»™è°ï¼Ÿ
        // é‡‘é¢æ˜¯å¤šå°‘ï¼Ÿï¼ˆæ³¨æ„ï¼š1ä¸ªä»£å¸ = 10^18 weiï¼‰
    }
}
```

**è‡ªæµ‹é—®é¢˜ï¼š**
- [ ] ä¸ºä»€ä¹ˆè¦å†™ `1000000 * 10**18`ï¼Ÿ
- [ ] `msg.sender` æ˜¯è°ï¼Ÿ
- [ ] `_mint` å‡½æ•°åšäº†ä»€ä¹ˆï¼Ÿ

**æµ‹è¯•ä½ çš„åˆçº¦ï¼š**
```javascript
it("åº”è¯¥é“¸é€ 100ä¸‡ä»£å¸ç»™éƒ¨ç½²è€…", async function () {
    // 1. è·å–éƒ¨ç½²è€…è´¦æˆ·
    // 2. éƒ¨ç½²åˆçº¦
    // 3. æŸ¥è¯¢ä½™é¢
    // 4. éªŒè¯ä½™é¢æ˜¯å¦æ­£ç¡®
});
```

---

### ç»ƒä¹ 1.2ï¼šæ·»åŠ é“¸é€ åŠŸèƒ½

**ç›®æ ‡ï¼š** ç†è§£æƒé™æ§åˆ¶

**è¦æ±‚ï¼š**
```
åœ¨ç»ƒä¹ 1.1çš„åŸºç¡€ä¸Šï¼š
1. ç»§æ‰¿ Ownable åˆçº¦
2. æ·»åŠ  mint å‡½æ•°ï¼Œåªæœ‰ownerèƒ½è°ƒç”¨
3. æ·»åŠ  setMinter å‡½æ•°ï¼Œå…è®¸owneræŒ‡å®šå…¶ä»–é“¸é€ è€…
```

**æç¤ºï¼š**
```solidity
import "@openzeppelin/contracts/access/Ownable.sol";

contract MyToken is ERC20, Ownable {
    mapping(address => bool) public isMinter;
    
    constructor() ERC20("MyToken", "MTK") Ownable(msg.sender) {
        // ...
    }
    
    modifier onlyMinter() {
        require(/*ä»€ä¹ˆæ¡ä»¶ï¼Ÿ*/, "Not minter");
        _;
    }
    
    function mint(address to, uint256 amount) external /*ä»€ä¹ˆä¿®é¥°å™¨ï¼Ÿ*/ {
        // é“¸é€ ä»£å¸
    }
}
```

**è‡ªæµ‹é—®é¢˜ï¼š**
- [ ] `onlyOwner` ä¿®é¥°å™¨ä»å“ªæ¥çš„ï¼Ÿ
- [ ] ä»€ä¹ˆæ˜¯ modifierï¼Ÿ
- [ ] ä¸ºä»€ä¹ˆéœ€è¦æƒé™æ§åˆ¶ï¼Ÿ

---

## ç¬¬2å…³ï¼šè½¬è´¦é€»è¾‘ â­â­

### ç»ƒä¹ 2.1ï¼šè½¬è´¦æ—¥å¿—

**ç›®æ ‡ï¼š** ç†è§£ _update å‡½æ•°

**è¦æ±‚ï¼š**
```
é‡å†™ _update å‡½æ•°ï¼Œåœ¨æ¯æ¬¡è½¬è´¦æ—¶ï¼š
1. è®°å½•ä¸€ä¸ªäº‹ä»¶ TransferLog
2. äº‹ä»¶åŒ…å«ï¼šfrom, to, amount, timestamp
3. ä¸è¦å½±å“æ­£å¸¸è½¬è´¦
```

**æç¤ºï¼š**
```solidity
event TransferLog(
    address indexed from,
    address indexed to,
    uint256 amount,
    uint256 timestamp
);

function _update(address from, address to, uint256 value) internal override {
    // 1. å…ˆè°ƒç”¨çˆ¶åˆçº¦çš„ _update
    // 2. å†è®°å½•è‡ªå·±çš„æ—¥å¿—
}
```

**æµ‹è¯•ï¼š**
```javascript
it("åº”è¯¥åœ¨è½¬è´¦æ—¶è§¦å‘TransferLogäº‹ä»¶", async function () {
    await expect(token.transfer(user1.address, 100))
        .to.emit(token, "TransferLog")
        .withArgs(owner.address, user1.address, 100, /*æ—¶é—´æˆ³*/);
});
```

**è‡ªæµ‹é—®é¢˜ï¼š**
- [ ] ä¸ºä»€ä¹ˆè¦è°ƒç”¨ `super._update`ï¼Ÿ
- [ ] å¦‚æœä¸è°ƒç”¨ä¼šæ€æ ·ï¼Ÿ
- [ ] `indexed` å…³é”®å­—çš„ä½œç”¨ï¼Ÿ

---

### ç»ƒä¹ 2.2ï¼šè½¬è´¦è®¡æ•°å™¨

**ç›®æ ‡ï¼š** ç†è§£çŠ¶æ€å˜é‡

**è¦æ±‚ï¼š**
```
æ·»åŠ ä¸€ä¸ªå…¨å±€è®¡æ•°å™¨ï¼Œè®°å½•ï¼š
1. æ€»è½¬è´¦æ¬¡æ•°
2. æ¯ä¸ªåœ°å€çš„è½¬è´¦æ¬¡æ•°
3. æä¾›æŸ¥è¯¢å‡½æ•°
```

**æç¤ºï¼š**
```solidity
uint256 public totalTransfers;
mapping(address => uint256) public transferCount;

function _update(address from, address to, uint256 value) internal override {
    super._update(from, to, value);
    
    // é“¸é€ å’Œé”€æ¯ä¸è®¡æ•°
    if (from != address(0) && to != address(0)) {
        // å¢åŠ è®¡æ•°
    }
}
```

**è‡ªæµ‹é—®é¢˜ï¼š**
- [ ] ä¸ºä»€ä¹ˆè¦æ’é™¤é›¶åœ°å€ï¼Ÿ
- [ ] `public` å˜é‡è‡ªåŠ¨æœ‰æŸ¥è¯¢å‡½æ•°å—ï¼Ÿ
- [ ] mapping èƒ½éå†å—ï¼Ÿ

---

## ç¬¬3å…³ï¼šä»£å¸ç¨ â­â­â­

### ç»ƒä¹ 3.1ï¼šå›ºå®šç¨ç‡

**ç›®æ ‡ï¼š** å®ç°åŸºæœ¬çš„ç¨è´¹æœºåˆ¶

**è¦æ±‚ï¼š**
```
å¯¹æ‰€æœ‰è½¬è´¦æ”¶å–10%ç¨è´¹ï¼š
1. ç¨è´¹è½¬ç»™æŒ‡å®šçš„ç¨è´¹é’±åŒ…
2. æ¥æ”¶è€…æ”¶åˆ°90%
3. Ownerè½¬è´¦å…ç¨
4. é“¸é€ å’Œé”€æ¯ä¸æ”¶ç¨
```

**æç¤ºï¼š**
```solidity
uint256 public constant TAX_RATE = 1000; // 10%
address public taxWallet;

function _update(address from, address to, uint256 amount) internal override {
    // 1. åˆ¤æ–­æ˜¯å¦éœ€è¦æ”¶ç¨
    if (/* é“¸é€ æˆ–é”€æ¯ */) {
        super._update(from, to, amount);
        return;
    }
    
    if (/* Ownerç›¸å…³ */) {
        super._update(from, to, amount);
        return;
    }
    
    // 2. è®¡ç®—ç¨è´¹
    uint256 taxAmount = (amount * TAX_RATE) / 10000;
    uint256 transferAmount = amount - taxAmount;
    
    // 3. å…ˆè½¬ç¨è´¹
    super._update(from, taxWallet, taxAmount);
    
    // 4. å†è½¬å‰©ä½™é‡‘é¢
    super._update(from, to, transferAmount);
}
```

**å¸¸è§é”™è¯¯ï¼š**
```
âŒ é”™è¯¯1ï¼šå…ˆè½¬ç»™æ¥æ”¶è€…ï¼Œå†è½¬ç¨è´¹
   ç»“æœï¼šfromä½™é¢ä¸è¶³

âŒ é”™è¯¯2ï¼šè°ƒç”¨äº†ä¸¤æ¬¡ super._update ä½†åªä¼ äº† amount
   ç»“æœï¼šè½¬è´¦é‡‘é¢é”™è¯¯

âœ… æ­£ç¡®ï¼šå…ˆè½¬ç¨è´¹ï¼Œå†è½¬å‰©ä½™é‡‘é¢
```

**æµ‹è¯•ï¼š**
```javascript
it("åº”è¯¥æ”¶å–10%ç¨è´¹", async function () {
    // 1. Ownerè½¬100ç»™user1ï¼ˆå…ç¨ï¼‰
    // 2. user1è½¬100ç»™user2ï¼ˆæ”¶10%ç¨ï¼‰
    // 3. éªŒè¯user2æ”¶åˆ°90
    // 4. éªŒè¯taxWalletæ”¶åˆ°10
});
```

---

### ç»ƒä¹ 3.2ï¼šå¯é…ç½®ç¨ç‡

**ç›®æ ‡ï¼š** å®ç°åŠ¨æ€ç¨ç‡

**è¦æ±‚ï¼š**
```
1. ä¹°å…¥ç¨å’Œå–å‡ºç¨å¯ä»¥ä¸åŒ
2. Ownerå¯ä»¥ä¿®æ”¹ç¨ç‡
3. ç¨ç‡æœ‰ä¸Šé™ï¼ˆ25%ï¼‰
4. é’±åŒ…é—´è½¬è´¦ä¸æ”¶ç¨
```

**æç¤ºï¼š**
```solidity
uint256 public buyTaxRate = 500;   // 5%
uint256 public sellTaxRate = 1000; // 10%

address public uniswapPair; // éœ€è¦å…ˆè®¾ç½®

function setTaxRates(uint256 _buyTax, uint256 _sellTax) external onlyOwner {
    require(_buyTax <= 2500, "Tax too high");
    require(_sellTax <= 2500, "Tax too high");
    // è®¾ç½®ç¨ç‡
}

function _update(address from, address to, uint256 amount) internal override {
    // ...
    
    // åˆ¤æ–­äº¤æ˜“ç±»å‹
    uint256 taxRate;
    if (from == uniswapPair) {
        taxRate = buyTaxRate; // ä¹°å…¥
    } else if (to == uniswapPair) {
        taxRate = sellTaxRate; // å–å‡º
    } else {
        taxRate = 0; // è½¬è´¦
    }
    
    // ...
}
```

**éš¾ç‚¹ï¼š**
- å¦‚ä½•åˆ¤æ–­æ˜¯ä¹°å…¥è¿˜æ˜¯å–å‡ºï¼Ÿ
- ä¸ºä»€ä¹ˆé’±åŒ…é—´è½¬è´¦ä¸æ”¶ç¨ï¼Ÿ

---

### ç»ƒä¹ 3.3ï¼šç¨è´¹åˆ†é…

**ç›®æ ‡ï¼š** å®ç°å¤šç§ç¨è´¹ç”¨é€”

**è¦æ±‚ï¼š**
```
å°†ç¨è´¹åˆ†æˆ4ä»½ï¼š
1. 40% â†’ æµåŠ¨æ€§
2. 30% â†’ è¥é”€
3. 20% â†’ å¼€å‘
4. 10% â†’ é”€æ¯
```

**æç¤ºï¼š**
```solidity
uint256 public liquidityShare = 4000;
uint256 public marketingShare = 3000;
uint256 public devShare = 2000;
uint256 public burnShare = 1000;

address public marketingWallet;
address public devWallet;
address public constant BURN_ADDRESS = 0x000000000000000000000000000000000000dEaD;

function _distributeTax(address from, uint256 taxAmount) private {
    uint256 totalShares = 10000; // 100%
    
    // è®¡ç®—æ¯ä»½çš„é‡‘é¢
    uint256 liquidityAmount = (taxAmount * liquidityShare) / totalShares;
    uint256 marketingAmount = (taxAmount * marketingShare) / totalShares;
    uint256 devAmount = (taxAmount * devShare) / totalShares;
    uint256 burnAmount = taxAmount - liquidityAmount - marketingAmount - devAmount;
    
    // åˆ†é…
    if (liquidityAmount > 0) {
        super._update(from, address(this), liquidityAmount);
    }
    // ... å…¶ä»–åˆ†é…
}
```

---

## ç¬¬4å…³ï¼šäº¤æ˜“é™åˆ¶ â­â­â­

### ç»ƒä¹ 4.1ï¼šå•ç¬”é™é¢

**ç›®æ ‡ï¼š** é™åˆ¶å•ç¬”äº¤æ˜“é‡‘é¢

**è¦æ±‚ï¼š**
```
1. å•ç¬”æœ€å¤šäº¤æ˜“æ€»ä¾›åº”é‡çš„0.5%
2. Ownerè±å…
3. å¯ä»¥è°ƒæ•´é™é¢ï¼ˆä½†ä¸èƒ½ä½äº0.1%ï¼‰
```

**æç¤ºï¼š**
```solidity
uint256 public maxTxAmount;
mapping(address => bool) public isExcludedFromLimits;

constructor() {
    uint256 totalSupply = 1000000 * 10**18;
    maxTxAmount = totalSupply * 5 / 1000; // 0.5%
    isExcludedFromLimits[msg.sender] = true;
}

function _update(address from, address to, uint256 amount) internal override {
    // æ£€æŸ¥é™åˆ¶
    if (!isExcludedFromLimits[from] && !isExcludedFromLimits[to]) {
        require(amount <= maxTxAmount, "è¶…è¿‡å•ç¬”é™é¢");
    }
    
    super._update(from, to, amount);
}
```

**æµ‹è¯•åœºæ™¯ï¼š**
```javascript
// åœºæ™¯1ï¼šæ­£å¸¸äº¤æ˜“
it("åº”è¯¥å…è®¸å°äºé™é¢çš„äº¤æ˜“");

// åœºæ™¯2ï¼šè¶…é¢äº¤æ˜“
it("åº”è¯¥æ‹’ç»è¶…è¿‡é™é¢çš„äº¤æ˜“");

// åœºæ™¯3ï¼šè±å…åœ°å€
it("Owneråº”è¯¥å¯ä»¥äº¤æ˜“ä»»æ„é‡‘é¢");
```

---

### ç»ƒä¹ 4.2ï¼šæœ€å¤§æŒæœ‰é‡

**ç›®æ ‡ï¼š** é™åˆ¶é’±åŒ…æŒæœ‰é‡

**è¦æ±‚ï¼š**
```
1. å•ä¸ªé’±åŒ…æœ€å¤šæŒæœ‰æ€»ä¾›åº”é‡çš„2%
2. æµåŠ¨æ€§æ± è±å…
3. å¯ä»¥è°ƒæ•´é™é¢
```

**æç¤ºï¼š**
```solidity
uint256 public maxWalletAmount;

function _update(address from, address to, uint256 amount) internal override {
    // ... å…¶ä»–æ£€æŸ¥ ...
    
    // æ£€æŸ¥æ¥æ”¶è€…æŒæœ‰é‡
    if (!isExcludedFromLimits[to] && to != uniswapPair) {
        require(
            balanceOf(to) + amount <= maxWalletAmount,
            "è¶…è¿‡æœ€å¤§æŒæœ‰é‡"
        );
    }
    
    super._update(from, to, amount);
}
```

**æ€è€ƒé¢˜ï¼š**
- ä¸ºä»€ä¹ˆè¦æ’é™¤æµåŠ¨æ€§æ± ï¼Ÿ
- ä¸ºä»€ä¹ˆåªæ£€æŸ¥æ¥æ”¶è€…ï¼Œä¸æ£€æŸ¥å‘é€è€…ï¼Ÿ

---

### ç»ƒä¹ 4.3ï¼šå†·å´æœŸ

**ç›®æ ‡ï¼š** é˜²æ­¢é«˜é¢‘äº¤æ˜“

**è¦æ±‚ï¼š**
```
1. åŒä¸€åœ°å€60ç§’å†…åªèƒ½äº¤æ˜“ä¸€æ¬¡
2. ä¹°å…¥ä¸å—é™åˆ¶
3. æä¾›è°ƒæ•´å†·å´æœŸçš„å‡½æ•°
```

**æç¤ºï¼š**
```solidity
uint256 public cooldownPeriod = 60;
mapping(address => uint256) private _lastTransferTime;

function _update(address from, address to, uint256 amount) internal override {
    // ... å…¶ä»–æ£€æŸ¥ ...
    
    // æ£€æŸ¥å†·å´æœŸï¼ˆå–å‡ºæ—¶ï¼‰
    if (from != uniswapPair && from != address(0)) {
        require(
            block.timestamp >= _lastTransferTime[from] + cooldownPeriod,
            "å†·å´æœŸæœªç»“æŸ"
        );
        _lastTransferTime[from] = block.timestamp;
    }
    
    super._update(from, to, amount);
}
```

**æµ‹è¯•ï¼š**
```javascript
it("åº”è¯¥åœ¨å†·å´æœŸå†…é˜»æ­¢ç¬¬äºŒæ¬¡äº¤æ˜“", async function () {
    // 1. user1ç¬¬ä¸€æ¬¡è½¬è´¦ -> æˆåŠŸ
    await token.connect(user1).transfer(user2.address, 100);
    
    // 2. user1ç«‹å³å†æ¬¡è½¬è´¦ -> å¤±è´¥
    await expect(
        token.connect(user1).transfer(user2.address, 100)
    ).to.be.revertedWith("å†·å´æœŸæœªç»“æŸ");
    
    // 3. ç­‰å¾…61ç§’
    await ethers.provider.send("evm_increaseTime", [61]);
    await ethers.provider.send("evm_mine");
    
    // 4. user1å†æ¬¡è½¬è´¦ -> æˆåŠŸ
    await expect(
        token.connect(user1).transfer(user2.address, 100)
    ).to.not.be.reverted;
});
```

---

## ç¬¬5å…³ï¼šé»‘åå• â­â­

### ç»ƒä¹ 5.1ï¼šåŸºæœ¬é»‘åå•

**ç›®æ ‡ï¼š** å®ç°é»‘åå•åŠŸèƒ½

**è¦æ±‚ï¼š**
```
1. Ownerå¯ä»¥å°†åœ°å€åŠ å…¥é»‘åå•
2. é»‘åå•åœ°å€ä¸èƒ½è½¬å…¥å’Œè½¬å‡º
3. ä¸èƒ½å°†OwneråŠ å…¥é»‘åå•
```

**æç¤ºï¼š**
```solidity
mapping(address => bool) public isBlacklisted;

function setBlacklist(address account, bool blacklisted) external onlyOwner {
    require(account != owner(), "ä¸èƒ½æ‹‰é»‘Owner");
    require(account != address(this), "ä¸èƒ½æ‹‰é»‘åˆçº¦");
    isBlacklisted[account] = blacklisted;
}

function _update(address from, address to, uint256 amount) internal override {
    require(!isBlacklisted[from], "å‘é€è€…è¢«æ‹‰é»‘");
    require(!isBlacklisted[to], "æ¥æ”¶è€…è¢«æ‹‰é»‘");
    
    super._update(from, to, amount);
}
```

---

### ç»ƒä¹ 5.2ï¼šæ‰¹é‡é»‘åå•

**ç›®æ ‡ï¼š** æé«˜æ•ˆç‡

**è¦æ±‚ï¼š**
```
å®ç°æ‰¹é‡è®¾ç½®é»‘åå•åŠŸèƒ½
```

**æç¤ºï¼š**
```solidity
function setBlacklistBatch(
    address[] calldata accounts,
    bool blacklisted
) external onlyOwner {
    for (uint256 i = 0; i < accounts.length; i++) {
        if (accounts[i] != owner() && accounts[i] != address(this)) {
            isBlacklisted[accounts[i]] = blacklisted;
        }
    }
}
```

**æ€è€ƒï¼š**
- ä¸ºä»€ä¹ˆç”¨ `calldata` è€Œä¸æ˜¯ `memory`ï¼Ÿ
- æ‰¹é‡æ“ä½œè¦æ³¨æ„ä»€ä¹ˆï¼Ÿï¼ˆæç¤ºï¼šGasè´¹ï¼‰

---

## ç¬¬6å…³ï¼šç»¼åˆæŒ‘æˆ˜ â­â­â­â­

### æŒ‘æˆ˜6.1ï¼šé˜²é‡å…¥æ”»å‡»

**ç›®æ ‡ï¼š** ç†è§£å¹¶é˜²æ­¢é‡å…¥æ”»å‡»

**åœºæ™¯ï¼š**
```
ä½ çš„ä»£å¸æœ‰ä¸€ä¸ªåŠŸèƒ½ï¼šç”¨æˆ·å¯ä»¥é”€æ¯ä»£å¸æ¢å–ETH
æ¶æ„ç”¨æˆ·å¯èƒ½åœ¨æ”¶åˆ°ETHåï¼Œåœ¨fallbackå‡½æ•°ä¸­å†æ¬¡è°ƒç”¨é”€æ¯å‡½æ•°
```

**è¦æ±‚ï¼š**
```
1. ç†è§£ä»€ä¹ˆæ˜¯é‡å…¥æ”»å‡»
2. ä½¿ç”¨ ReentrancyGuard é˜²æŠ¤
3. å†™æµ‹è¯•æ¨¡æ‹Ÿæ”»å‡»
```

**æç¤ºï¼š**
```solidity
import "@openzeppelin/contracts/utils/ReentrancyGuard.sol";

contract MyToken is ERC20, ReentrancyGuard {
    function burnForETH(uint256 amount) external nonReentrant {
        // 1. æ£€æŸ¥ä½™é¢
        require(balanceOf(msg.sender) >= amount, "ä½™é¢ä¸è¶³");
        
        // 2. é”€æ¯ä»£å¸
        _burn(msg.sender, amount);
        
        // 3. è®¡ç®—åº”å¾—ETH
        uint256 ethAmount = amount / 1000;
        
        // 4. è½¬ETHï¼ˆå±é™©ï¼å¯èƒ½è¢«é‡å…¥ï¼‰
        payable(msg.sender).transfer(ethAmount);
    }
}
```

---

### æŒ‘æˆ˜6.2ï¼šGasä¼˜åŒ–

**ç›®æ ‡ï¼š** é™ä½Gasæ¶ˆè€—

**ä»»åŠ¡ï¼š**
```
ä¼˜åŒ–ä»¥ä¸‹ä»£ç çš„Gasæ¶ˆè€—ï¼š
```

**åŸä»£ç ï¼š**
```solidity
function _update(address from, address to, uint256 amount) internal override {
    // æ¯æ¬¡éƒ½è¯»å–å­˜å‚¨å˜é‡
    if (buyTaxRate > 0) {
        uint256 tax = (amount * buyTaxRate) / 10000;
        super._update(from, taxWallet, tax);
        super._update(from, to, amount - tax);
    } else {
        super._update(from, to, amount);
    }
}
```

**ä¼˜åŒ–åï¼š**
```solidity
function _update(address from, address to, uint256 amount) internal override {
    uint256 _buyTaxRate = buyTaxRate; // ç¼“å­˜åˆ°å†…å­˜
    
    if (_buyTaxRate == 0) { // å…ˆåˆ¤æ–­æœ€å¸¸è§æƒ…å†µ
        super._update(from, to, amount);
        return;
    }
    
    uint256 tax = (amount * _buyTaxRate) / 10000;
    uint256 transferAmount = amount - tax; // åªè®¡ç®—ä¸€æ¬¡
    
    super._update(from, taxWallet, tax);
    super._update(from, to, transferAmount);
}
```

**å­¦ä¹ ç‚¹ï¼š**
- [ ] å­˜å‚¨(storage) vs å†…å­˜(memory) vs æ ˆ(stack)
- [ ] æå‰è¿”å›(early return)
- [ ] å‡å°‘è®¡ç®—æ¬¡æ•°

---

### æŒ‘æˆ˜6.3ï¼šå®Œæ•´çš„Memeä»£å¸

**ç»ˆææŒ‘æˆ˜ï¼š** æ•´åˆæ‰€æœ‰åŠŸèƒ½

**è¦æ±‚ï¼š**
```
åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„Memeä»£å¸ï¼ŒåŒ…å«ï¼š
1. ä»£å¸ç¨ï¼ˆä¹°å…¥5%ï¼Œå–å‡º10%ï¼‰
2. ç¨è´¹åˆ†é…ï¼ˆæµåŠ¨æ€§ã€è¥é”€ã€å¼€å‘ã€é”€æ¯ï¼‰
3. äº¤æ˜“é™åˆ¶ï¼ˆå•ç¬”0.5%ï¼ŒæŒæœ‰2%ï¼Œå†·å´60ç§’ï¼‰
4. é»‘åå•
5. å¯åŠ¨ä¿æŠ¤ï¼ˆå‰10ä¸ªåŒºå—99%ç¨ç‡ï¼‰
6. è±å…ç®¡ç†
7. è‡³å°‘20ä¸ªæµ‹è¯•ç”¨ä¾‹
```

**è¯„åˆ†æ ‡å‡†ï¼š**
- åŠŸèƒ½å®Œæ•´æ€§ï¼š40åˆ†
- ä»£ç è´¨é‡ï¼š20åˆ†
- æµ‹è¯•è¦†ç›–ï¼š20åˆ†
- Gasä¼˜åŒ–ï¼š10åˆ†
- å®‰å…¨æ€§ï¼š10åˆ†

---

## ğŸ“Š å­¦ä¹ è¿›åº¦è¿½è¸ª

### ç¬¬1å…³ï¼šERC20åŸºç¡€
- [ ] ç»ƒä¹ 1.1ï¼šåˆ›å»ºç¬¬ä¸€ä¸ªä»£å¸
- [ ] ç»ƒä¹ 1.2ï¼šæ·»åŠ é“¸é€ åŠŸèƒ½

### ç¬¬2å…³ï¼šè½¬è´¦é€»è¾‘
- [ ] ç»ƒä¹ 2.1ï¼šè½¬è´¦æ—¥å¿—
- [ ] ç»ƒä¹ 2.2ï¼šè½¬è´¦è®¡æ•°å™¨

### ç¬¬3å…³ï¼šä»£å¸ç¨
- [ ] ç»ƒä¹ 3.1ï¼šå›ºå®šç¨ç‡
- [ ] ç»ƒä¹ 3.2ï¼šå¯é…ç½®ç¨ç‡
- [ ] ç»ƒä¹ 3.3ï¼šç¨è´¹åˆ†é…

### ç¬¬4å…³ï¼šäº¤æ˜“é™åˆ¶
- [ ] ç»ƒä¹ 4.1ï¼šå•ç¬”é™é¢
- [ ] ç»ƒä¹ 4.2ï¼šæœ€å¤§æŒæœ‰é‡
- [ ] ç»ƒä¹ 4.3ï¼šå†·å´æœŸ

### ç¬¬5å…³ï¼šé»‘åå•
- [ ] ç»ƒä¹ 5.1ï¼šåŸºæœ¬é»‘åå•
- [ ] ç»ƒä¹ 5.2ï¼šæ‰¹é‡é»‘åå•

### ç¬¬6å…³ï¼šç»¼åˆæŒ‘æˆ˜
- [ ] æŒ‘æˆ˜6.1ï¼šé˜²é‡å…¥æ”»å‡»
- [ ] æŒ‘æˆ˜6.2ï¼šGasä¼˜åŒ–
- [ ] æŒ‘æˆ˜6.3ï¼šå®Œæ•´Memeä»£å¸

---

## ğŸ¯ å‚è€ƒç­”æ¡ˆä½ç½®

æ‰€æœ‰ç»ƒä¹ çš„å®Œæ•´ç­”æ¡ˆéƒ½åœ¨ï¼š
```
contracts/ShibaMemeToken.sol  # å®Œæ•´åˆçº¦
test/ShibaMemeToken.test.js   # æµ‹è¯•ç”¨ä¾‹
```

**å»ºè®®ï¼š**
1. å…ˆè‡ªå·±å°è¯•
2. å®åœ¨ä¸ä¼šå†çœ‹ç­”æ¡ˆ
3. ç†è§£åé‡æ–°å†™ä¸€é
4. æ”¹è¿›å’Œä¼˜åŒ–

---

## ğŸ’¡ å­¦ä¹ å»ºè®®

### æ¯ä¸ªç»ƒä¹ çš„æ ‡å‡†æµç¨‹
```
1. é˜…è¯»è¦æ±‚ï¼ˆ5åˆ†é’Ÿï¼‰
2. æ€è€ƒæ–¹æ¡ˆï¼ˆ10åˆ†é’Ÿï¼‰
3. ç¼–å†™ä»£ç ï¼ˆ30åˆ†é’Ÿï¼‰
4. ç¼–å†™æµ‹è¯•ï¼ˆ20åˆ†é’Ÿï¼‰
5. è°ƒè¯•ä¿®å¤ï¼ˆ20åˆ†é’Ÿï¼‰
6. å¯¹æ¯”ç­”æ¡ˆï¼ˆ10åˆ†é’Ÿï¼‰
7. æ€»ç»“ç¬”è®°ï¼ˆ5åˆ†é’Ÿï¼‰
```

### é‡åˆ°å›°éš¾æ€ä¹ˆåŠ
```
æ­¥éª¤1ï¼šçœ‹æç¤º
æ­¥éª¤2ï¼šæœç´¢èµ„æ–™
æ­¥éª¤3ï¼šå‚è€ƒç­”æ¡ˆ
æ­¥éª¤4ï¼šç†è§£åŸç†
æ­¥éª¤5ï¼šé‡æ–°å®ç°
```

### å¦‚ä½•çŸ¥é“è‡ªå·±å­¦ä¼šäº†
```
âœ… èƒ½ä¸çœ‹ç­”æ¡ˆå†™å‡ºæ¥
âœ… èƒ½è§£é‡Šç»™åˆ«äººå¬
âœ… èƒ½ä¸¾ä¸€åä¸‰
âœ… èƒ½å‘ç°å¹¶ä¿®å¤bug
âœ… èƒ½ä¼˜åŒ–æ”¹è¿›
```

---

## ğŸš€ å®Œæˆæ‰€æœ‰ç»ƒä¹ å

ä½ å°†èƒ½å¤Ÿï¼š
- âœ… ç‹¬ç«‹å¼€å‘ERC20ä»£å¸
- âœ… ç†è§£æ™ºèƒ½åˆçº¦çš„æ ¸å¿ƒæ¦‚å¿µ
- âœ… å®ç°å¤æ‚çš„ä»£å¸ç»æµæ¨¡å‹
- âœ… ç¼–å†™å…¨é¢çš„æµ‹è¯•ç”¨ä¾‹
- âœ… è°ƒè¯•å’Œä¼˜åŒ–åˆçº¦ä»£ç 
- âœ… é˜…è¯»å’Œç†è§£ä»–äººçš„ä»£å¸åˆçº¦

**ä¸‹ä¸€æ­¥ï¼š**
1. å°è¯•æ·»åŠ æ–°åŠŸèƒ½ï¼ˆå¦‚ï¼šè´¨æŠ¼ã€æ²»ç†ï¼‰
2. å­¦ä¹ æ›´é«˜çº§çš„DeFiæ¦‚å¿µ
3. å‚ä¸å¼€æºé¡¹ç›®
4. å¼€å‘è‡ªå·±çš„é¡¹ç›®

**ç¥ä½ å­¦ä¹ é¡ºåˆ©ï¼æ¯å®Œæˆä¸€ä¸ªç»ƒä¹ å°±æ˜¯ä¸€æ¬¡è¿›æ­¥ï¼** ğŸ‰
